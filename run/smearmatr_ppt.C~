#include "../header/plot.h"

const TString hist_nm = "_corred";
const TString infile_nm = "../../../analysis/crx3pi/output_norm/crx3pi0.root";

int smearmatr() {

  gErrorIgnoreLevel = kError;
  TGaxis::SetMaxDigits(4);
  gStyle->SetOptStat(0);
  //gROOT->SetBatch(kTRUE);
  gStyle->SetPaintTextFormat("4.4f");

  cout << "Plotting smearing matrix ... " << endl;

  TFile *infile = new TFile(infile_nm);

  TIter next_tree(infile -> GetListOfKeys());

  TString objnm_tree, classnm_tree;
  
  int i = 0;
  TKey *key;
  
  while ( (key = (TKey *) next_tree() ) ) {// start tree while lop
    
    i ++;
    
    objnm_tree   =  key -> GetName();
    classnm_tree = key -> GetClassName();
    key -> GetSeekKey();
    
    //cout << "tree" << i << ": classnm = " << classnm_tree << ", objnm = " << objnm_tree << endl;
    
  }

  TH1D * hprobsum = (TH1D *) infile -> Get("hprobsum");
  
  TH2D * hsmearmatr = (TH2D *) infile -> Get("hsmearmatr");
  TH2D * h2d_scatter_corred = (TH2D *) infile -> Get("h2d_scatter_corred");

  return 0;

}
